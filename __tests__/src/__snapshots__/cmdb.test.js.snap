// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`deleteItem should return the cmdb response 1`] = `
Object {
  "SF_ID": "a22D0000001cXyPIAU",
  "architectureDiagram": "<p><a href=\\"https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing\\" target=\\"_blank\\">https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing</a><br></p>",
  "child": Object {
    "system": Array [
      Object {
        "SF_ID": "a22D0000001caC8IAI",
        "dataItemID": "cmdb-key-manager",
        "dataTypeID": "system",
        "description": "The keeper of keys in production.",
        "gitRepository": "http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-24T13:45:54.358830Z",
        "lifecycleStage": "Production",
        "monitoring": "<p><a href=\\"http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a\\" target=\\"_blank\\">http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a</a><br></p>",
        "moreInformation": "<p><a href=\\"http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md\\" target=\\"_blank\\">http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md</a><br></p>",
        "name": "CMDBv2 Key Manager",
        "primaryURL": "https://cmdb-key-manager-prod.herokuapp.com",
        "serviceTier": "Bronze",
      },
      Object {
        "SF_ID": "a22D0000001cZi4IAE",
        "architectureDiagram": "<p><a href=\\"https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc\\" target=\\"_blank\\">https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc</a><br></p>",
        "dataItemID": "cmdbapi",
        "dataTypeID": "system",
        "description": "The source of truth for the FT's systems and related information.",
        "gitRepository": "https://github.com/Financial-Times/cmdb",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-11T14:46:38.641466Z",
        "lifecycleStage": "Production",
        "moreInformation": "<p><a href=\\"https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o\\" target=\\"_blank\\">https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o</a><br></p>",
        "name": "CMDBv2",
        "primaryURL": "https://cmdb.ft.com/v2",
        "serviceTier": "Gold",
      },
    ],
  },
  "dataItemID": "dewey",
  "dataTypeID": "system",
  "description": "Up to date information about our systems...",
  "gitRepository": "https://github.com/Financial-Times/dewey-gateway",
  "hostPlatform": "Heroku",
  "lastUpdate": "2017-04-21T09:35:49.211493Z",
  "lifecycleStage": "Production",
  "monitoring": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring\\" target=\\"_blank\\">https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring</a></p>",
  "moreInformation": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey\\" target=\\"_blank\\" style=\\"background-color: rgb(255, 255, 255);\\">https://sites.google.com/a/ft.com/technology/tools/dewey</a><br></p>",
  "name": "Dewey",
  "personalData": "No",
  "primaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "slack",
        "contactType": "Team",
        "dataItemID": "DE-Tooling",
        "dataTypeID": "contact",
        "email": "DE.ToolingTeam@ft.com",
        "lastUpdate": "2017-11-21T00:00:00.000Z",
        "name": "Delivery Enablement Tooling",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "primaryURL": "dewey.ft.com",
  "productOwner": Object {
    "contact": Array [
      Object {
        "contactType": "Person",
        "dataItemID": "ashleydesouza",
        "dataTypeID": "contact",
        "email": "ashley.de.souza@ft.com",
        "lastUpdate": "2017-04-06T10:45:17.909266Z",
        "name": "Ashley de Souza",
        "phone": "07710337216",
        "slack": "ashleydesouza",
      },
    ],
  },
  "programme": Object {
    "contact": Array [
      Object {
        "contactPref": " Ashley de Souza",
        "contactType": "Programme",
        "dataItemID": "enterpriseservices-de",
        "dataTypeID": "contact",
        "email": "Ent.Svcs.DE@ft.com",
        "lastUpdate": "2017-02-22T16:06:35.450184Z",
        "name": "Enterprise Services - Delivery Enablement",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "enterprise-services",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "secondaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "sensitiveData": "No",
  "serviceTier": "Silver",
  "serviceType": "BusinessService",
  "shortDescription": "Short description for Runbooks",
  "status": "None",
  "submitter": "CMDB  User",
  "supported": "Yes",
  "technicalLead": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "troubleshooting": "<table class=\\"table table-bordered\\" width=\\"100%\\"><tbody><tr><th scope=\\"row\\">Step 1</th><td><b>Has pingdom fired an alert showing CMDBv2 as down?</b><br><br>a. If in-hours contact the OI team using the contact details above.</td></tr><tr><th scope=\\"row\\">Step 2</th><td><p><b>Is dewey.ft.com showing an empty index page?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system page needs to be accessed urgently, perform the following actions:<br>&nbsp; i. &nbsp; Log into AWS via awslogin.in.ft.com<br>&nbsp; ii. &nbsp;Select S3 and navigate to dewey-library-prod<br>&nbsp; iii. Open up the html page (based on system name) required - search facilities are limited compared to dewey.ft.com</p></td></tr><tr><th scope=\\"row\\">Step 3</th><td><b>Are Dewey system pages not updating in a timely fashion following an update?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system pages needs to be urgently accessed, perform the following actions:<br>&nbsp; i. &nbsp; Try accessing the details via https://systemregistry.in.ft.com/manage/&lt;system-code&gt;<br>&nbsp; ii. &nbsp;Try accessing the html page directly in the S3 bucket (using the steps shown above)<br>&nbsp; iii. If you have access, purge the Dewey system page's cache via the akamai fast purge console&nbsp;</td></tr></tbody></table>",
}
`;

exports[`getAllItemFields should return the cmdb response 1`] = `
Array [
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:06:47.080Z",
    "protocol": "https",
    "variant": "US East",
  },
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:07:52.208Z",
    "protocol": "https",
  },
]
`;

exports[`getAllItems should return the cmdb response 1`] = `
Array [
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:06:47.080Z",
    "protocol": "https",
    "variant": "US East",
  },
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:07:52.208Z",
    "protocol": "https",
  },
]
`;

exports[`getItem should return the cmdb response 1`] = `
Object {
  "SF_ID": "a22D0000001cXyPIAU",
  "architectureDiagram": "<p><a href=\\"https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing\\" target=\\"_blank\\">https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing</a><br></p>",
  "child": Object {
    "system": Array [
      Object {
        "SF_ID": "a22D0000001caC8IAI",
        "dataItemID": "cmdb-key-manager",
        "dataTypeID": "system",
        "description": "The keeper of keys in production.",
        "gitRepository": "http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-24T13:45:54.358830Z",
        "lifecycleStage": "Production",
        "monitoring": "<p><a href=\\"http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a\\" target=\\"_blank\\">http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a</a><br></p>",
        "moreInformation": "<p><a href=\\"http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md\\" target=\\"_blank\\">http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md</a><br></p>",
        "name": "CMDBv2 Key Manager",
        "primaryURL": "https://cmdb-key-manager-prod.herokuapp.com",
        "serviceTier": "Bronze",
      },
      Object {
        "SF_ID": "a22D0000001cZi4IAE",
        "architectureDiagram": "<p><a href=\\"https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc\\" target=\\"_blank\\">https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc</a><br></p>",
        "dataItemID": "cmdbapi",
        "dataTypeID": "system",
        "description": "The source of truth for the FT's systems and related information.",
        "gitRepository": "https://github.com/Financial-Times/cmdb",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-11T14:46:38.641466Z",
        "lifecycleStage": "Production",
        "moreInformation": "<p><a href=\\"https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o\\" target=\\"_blank\\">https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o</a><br></p>",
        "name": "CMDBv2",
        "primaryURL": "https://cmdb.ft.com/v2",
        "serviceTier": "Gold",
      },
    ],
  },
  "dataItemID": "dewey",
  "dataTypeID": "system",
  "description": "Up to date information about our systems...",
  "gitRepository": "https://github.com/Financial-Times/dewey-gateway",
  "hostPlatform": "Heroku",
  "lastUpdate": "2017-04-21T09:35:49.211493Z",
  "lifecycleStage": "Production",
  "monitoring": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring\\" target=\\"_blank\\">https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring</a></p>",
  "moreInformation": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey\\" target=\\"_blank\\" style=\\"background-color: rgb(255, 255, 255);\\">https://sites.google.com/a/ft.com/technology/tools/dewey</a><br></p>",
  "name": "Dewey",
  "personalData": "No",
  "primaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "slack",
        "contactType": "Team",
        "dataItemID": "DE-Tooling",
        "dataTypeID": "contact",
        "email": "DE.ToolingTeam@ft.com",
        "lastUpdate": "2017-11-21T00:00:00.000Z",
        "name": "Delivery Enablement Tooling",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "primaryURL": "dewey.ft.com",
  "productOwner": Object {
    "contact": Array [
      Object {
        "contactType": "Person",
        "dataItemID": "ashleydesouza",
        "dataTypeID": "contact",
        "email": "ashley.de.souza@ft.com",
        "lastUpdate": "2017-04-06T10:45:17.909266Z",
        "name": "Ashley de Souza",
        "phone": "07710337216",
        "slack": "ashleydesouza",
      },
    ],
  },
  "programme": Object {
    "contact": Array [
      Object {
        "contactPref": " Ashley de Souza",
        "contactType": "Programme",
        "dataItemID": "enterpriseservices-de",
        "dataTypeID": "contact",
        "email": "Ent.Svcs.DE@ft.com",
        "lastUpdate": "2017-02-22T16:06:35.450184Z",
        "name": "Enterprise Services - Delivery Enablement",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "enterprise-services",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "secondaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "sensitiveData": "No",
  "serviceTier": "Silver",
  "serviceType": "BusinessService",
  "shortDescription": "Short description for Runbooks",
  "status": "None",
  "submitter": "CMDB  User",
  "supported": "Yes",
  "technicalLead": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "troubleshooting": "<table class=\\"table table-bordered\\" width=\\"100%\\"><tbody><tr><th scope=\\"row\\">Step 1</th><td><b>Has pingdom fired an alert showing CMDBv2 as down?</b><br><br>a. If in-hours contact the OI team using the contact details above.</td></tr><tr><th scope=\\"row\\">Step 2</th><td><p><b>Is dewey.ft.com showing an empty index page?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system page needs to be accessed urgently, perform the following actions:<br>&nbsp; i. &nbsp; Log into AWS via awslogin.in.ft.com<br>&nbsp; ii. &nbsp;Select S3 and navigate to dewey-library-prod<br>&nbsp; iii. Open up the html page (based on system name) required - search facilities are limited compared to dewey.ft.com</p></td></tr><tr><th scope=\\"row\\">Step 3</th><td><b>Are Dewey system pages not updating in a timely fashion following an update?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system pages needs to be urgently accessed, perform the following actions:<br>&nbsp; i. &nbsp; Try accessing the details via https://systemregistry.in.ft.com/manage/&lt;system-code&gt;<br>&nbsp; ii. &nbsp;Try accessing the html page directly in the S3 bucket (using the steps shown above)<br>&nbsp; iii. If you have access, purge the Dewey system page's cache via the akamai fast purge console&nbsp;</td></tr></tbody></table>",
}
`;

exports[`getItemFields should return the cmdb response 1`] = `
Object {
  "SF_ID": "a22D0000001cXyPIAU",
  "architectureDiagram": "<p><a href=\\"https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing\\" target=\\"_blank\\">https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing</a><br></p>",
  "child": Object {
    "system": Array [
      Object {
        "SF_ID": "a22D0000001caC8IAI",
        "dataItemID": "cmdb-key-manager",
        "dataTypeID": "system",
        "description": "The keeper of keys in production.",
        "gitRepository": "http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-24T13:45:54.358830Z",
        "lifecycleStage": "Production",
        "monitoring": "<p><a href=\\"http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a\\" target=\\"_blank\\">http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a</a><br></p>",
        "moreInformation": "<p><a href=\\"http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md\\" target=\\"_blank\\">http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md</a><br></p>",
        "name": "CMDBv2 Key Manager",
        "primaryURL": "https://cmdb-key-manager-prod.herokuapp.com",
        "serviceTier": "Bronze",
      },
      Object {
        "SF_ID": "a22D0000001cZi4IAE",
        "architectureDiagram": "<p><a href=\\"https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc\\" target=\\"_blank\\">https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc</a><br></p>",
        "dataItemID": "cmdbapi",
        "dataTypeID": "system",
        "description": "The source of truth for the FT's systems and related information.",
        "gitRepository": "https://github.com/Financial-Times/cmdb",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-11T14:46:38.641466Z",
        "lifecycleStage": "Production",
        "moreInformation": "<p><a href=\\"https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o\\" target=\\"_blank\\">https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o</a><br></p>",
        "name": "CMDBv2",
        "primaryURL": "https://cmdb.ft.com/v2",
        "serviceTier": "Gold",
      },
    ],
  },
  "dataItemID": "dewey",
  "dataTypeID": "system",
  "description": "Up to date information about our systems...",
  "gitRepository": "https://github.com/Financial-Times/dewey-gateway",
  "hostPlatform": "Heroku",
  "lastUpdate": "2017-04-21T09:35:49.211493Z",
  "lifecycleStage": "Production",
  "monitoring": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring\\" target=\\"_blank\\">https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring</a></p>",
  "moreInformation": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey\\" target=\\"_blank\\" style=\\"background-color: rgb(255, 255, 255);\\">https://sites.google.com/a/ft.com/technology/tools/dewey</a><br></p>",
  "name": "Dewey",
  "personalData": "No",
  "primaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "slack",
        "contactType": "Team",
        "dataItemID": "DE-Tooling",
        "dataTypeID": "contact",
        "email": "DE.ToolingTeam@ft.com",
        "lastUpdate": "2017-11-21T00:00:00.000Z",
        "name": "Delivery Enablement Tooling",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "primaryURL": "dewey.ft.com",
  "productOwner": Object {
    "contact": Array [
      Object {
        "contactType": "Person",
        "dataItemID": "ashleydesouza",
        "dataTypeID": "contact",
        "email": "ashley.de.souza@ft.com",
        "lastUpdate": "2017-04-06T10:45:17.909266Z",
        "name": "Ashley de Souza",
        "phone": "07710337216",
        "slack": "ashleydesouza",
      },
    ],
  },
  "programme": Object {
    "contact": Array [
      Object {
        "contactPref": " Ashley de Souza",
        "contactType": "Programme",
        "dataItemID": "enterpriseservices-de",
        "dataTypeID": "contact",
        "email": "Ent.Svcs.DE@ft.com",
        "lastUpdate": "2017-02-22T16:06:35.450184Z",
        "name": "Enterprise Services - Delivery Enablement",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "enterprise-services",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "secondaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "sensitiveData": "No",
  "serviceTier": "Silver",
  "serviceType": "BusinessService",
  "shortDescription": "Short description for Runbooks",
  "status": "None",
  "submitter": "CMDB  User",
  "supported": "Yes",
  "technicalLead": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "troubleshooting": "<table class=\\"table table-bordered\\" width=\\"100%\\"><tbody><tr><th scope=\\"row\\">Step 1</th><td><b>Has pingdom fired an alert showing CMDBv2 as down?</b><br><br>a. If in-hours contact the OI team using the contact details above.</td></tr><tr><th scope=\\"row\\">Step 2</th><td><p><b>Is dewey.ft.com showing an empty index page?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system page needs to be accessed urgently, perform the following actions:<br>&nbsp; i. &nbsp; Log into AWS via awslogin.in.ft.com<br>&nbsp; ii. &nbsp;Select S3 and navigate to dewey-library-prod<br>&nbsp; iii. Open up the html page (based on system name) required - search facilities are limited compared to dewey.ft.com</p></td></tr><tr><th scope=\\"row\\">Step 3</th><td><b>Are Dewey system pages not updating in a timely fashion following an update?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system pages needs to be urgently accessed, perform the following actions:<br>&nbsp; i. &nbsp; Try accessing the details via https://systemregistry.in.ft.com/manage/&lt;system-code&gt;<br>&nbsp; ii. &nbsp;Try accessing the html page directly in the S3 bucket (using the steps shown above)<br>&nbsp; iii. If you have access, purge the Dewey system page's cache via the akamai fast purge console&nbsp;</td></tr></tbody></table>",
}
`;

exports[`getItemPage should return the cmdb response 1`] = `
Array [
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:06:47.080Z",
    "protocol": "https",
    "variant": "US East",
  },
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:07:52.208Z",
    "protocol": "https",
  },
]
`;

exports[`getItemPageFields should return the cmdb response 1`] = `
Array [
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-eu-west-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:06:47.080Z",
    "protocol": "https",
    "variant": "US East",
  },
  Object {
    "aboutSuffix": "",
    "base": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataItemID": "access-service-gw-us-east-1-prod.memb.ft.com",
    "dataTypeID": "endpoint",
    "healthSuffix": "__health",
    "isHealthcheckFor": Object {
      "system": Array [
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "access-service",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-11-10T10:08:54.218Z",
          "lifecycleStage": "Production",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
        Object {
          "SF_ID": "a22D0000000T9i8IAC",
          "architectureDiagram": "<p>See below</p>",
          "dataItemID": "ft-access",
          "dataTypeID": "system",
          "description": "The Access service is the authorisation decision engine for content on ft.com (including www.ft.com, blogs.ft.com, ftalphaville.ft.com, presscuttings.ft.com, ig.ft.com)",
          "failoverRecoveryPlan": "",
          "gitRepository": "http://git.svc.ft.com/projects/ACCESS/repos/access-service/browse",
          "hostPlatform": "AWS",
          "importComment": "Synced from https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "importTimestamp": "2016-11-26T17:13:42Z",
          "incidentDL": "ft.technology@ft.com",
          "incidentEmail": "ft.technology@ft.com",
          "lastUpdate": "2017-04-11T14:46:23.556346Z",
          "lifecycleStage": "Retired",
          "monitoring": "Data exists but size greater than 1kb and is not shown here.",
          "moreInformation": "Data exists but size greater than 1kb and is not shown here.",
          "name": "Access",
          "notes": "Runbook information provided by Tyrone Cutajar: https://sites.google.com/a/ft.com/ft-technology-service-transition/home/run-book-library/accesstyronecutajar20140911",
          "parentService": "Digital Services",
          "primaryURL": "https://access.ft.com",
          "productOwnerName": "Jon Furse",
          "serviceHours": "24 x 7",
          "serviceTier": "Platinum",
          "serviceType": "BusinessService",
          "shortDescription": "The Access service is the authorisation decision engine for content on ft.com",
          "status": "None",
          "submitter": "Erin  Thompson",
          "supportSupplier": "N/A",
          "technicalOwner": "Anurag
Kapur",
          "title": "Access Run Book",
          "troubleshooting": "<table width=100% style=\\"border:1px solid;\\"><tr><td><b>Steps for troubleshooting incidents and issues</b></td></tr>
<tr> <td>Refer to the <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/panic-guide/access-nagios-panic-guide'>Access Nagios Alerts</a><br/><br/><b>Problems with Kafka<br/></b>In the event that Access can no longer consume messages because of a kafka problem, in most cases, a restart of the access service should allow the consumer to resume receiving messages. You can check how many seconds have elapsed since the last update by searching for 'UserLicenceChangeMessageHandler.time_since_last_update_seconds' on http://&lt;hostname&gt;:8081/metrics?pretty=true<br/><br/><b>Problems with Tungsten</b><br/><br/>The worst case impact of a Tungsten service failure is that registered users may be able to see more content than the current article count limit during this period. As a result it is ok to acknowledge any alert and contact Membership AIM during normal hours if the problem cannot be resolved by following the guide below.<br/><br/>Access uses tungsten in a multi-master configuration to replicate user decisions, where they've been granted access to view an article or not, to all hosts in the cluster. Access currently has 6 hosts in the UK and US, listed in the hardware section above, that each have a tungsten service name (Alpha, Bravo, Charlie, Delta, Echo, Foxtrot). When a service, e.g Alpha, is deemed as being in an OFFLINE state the node corresponding to the service will fail to replicate data to the other service nodes. <br/><br/>Logs: /opt/continuent/tungsten/tungsten-replicator/log/trepsvc.log<br/><br/>Where a tungsten service is reported as being in an offline or error state you can attempt to bring the service back online by running either <i>trepctl -service &lt;service_name&gt; online </i>or by performing a <i>service treplicator restart. </i>check the logs to see if any errors are being reported.<i> </i>If this hasn't brought the service back up this will need to be reported to Membership AIM.<br/><br/><b>Setting the site free<br/></b><br/>information <a href='https://sites.google.com/a/ft.com/technology/systems/membership/identity-and-access-management/02-sub-systems/access/engineering/02-wiki/setting-the-site-free'>here</a>.<br/><br/>
</td></tr>
</table>",
        },
      ],
    },
    "isLive": "True",
    "lastUpdate": "2017-07-19T02:07:52.208Z",
    "protocol": "https",
  },
]
`;

exports[`putItem should return the cmdb response 1`] = `
Object {
  "SF_ID": "a22D0000001cXyPIAU",
  "architectureDiagram": "<p><a href=\\"https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing\\" target=\\"_blank\\">https://docs.google.com/a/ft.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc/edit?usp=sharing</a><br></p>",
  "child": Object {
    "system": Array [
      Object {
        "SF_ID": "a22D0000001caC8IAI",
        "dataItemID": "cmdb-key-manager",
        "dataTypeID": "system",
        "description": "The keeper of keys in production.",
        "gitRepository": "http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-24T13:45:54.358830Z",
        "lifecycleStage": "Production",
        "monitoring": "<p><a href=\\"http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a\\" target=\\"_blank\\">http://healthcheck.ft.com/service/91b5d2b057205ab368616b2198d4ca5a</a><br></p>",
        "moreInformation": "<p><a href=\\"http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md\\" target=\\"_blank\\">http://git.svc.ft.com/projects/CMDB/repos/cmdb-key-manager/browse/README.md</a><br></p>",
        "name": "CMDBv2 Key Manager",
        "primaryURL": "https://cmdb-key-manager-prod.herokuapp.com",
        "serviceTier": "Bronze",
      },
      Object {
        "SF_ID": "a22D0000001cZi4IAE",
        "architectureDiagram": "<p><a href=\\"https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc\\" target=\\"_blank\\">https://docs.google.com/drawings/d/1EiNVmPPspKsNy9ARZTrSOq8Mid7tb9jg0DVgGC0bTdc</a><br></p>",
        "dataItemID": "cmdbapi",
        "dataTypeID": "system",
        "description": "The source of truth for the FT's systems and related information.",
        "gitRepository": "https://github.com/Financial-Times/cmdb",
        "hostPlatform": "Heroku",
        "lastUpdate": "2017-04-11T14:46:38.641466Z",
        "lifecycleStage": "Production",
        "moreInformation": "<p><a href=\\"https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o\\" target=\\"_blank\\">https://docs.google.com/presentation/d/1iAakfahlFEfM3dCucjnWLWgi8ZuCRy7OzyjeUuIeA2o</a><br></p>",
        "name": "CMDBv2",
        "primaryURL": "https://cmdb.ft.com/v2",
        "serviceTier": "Gold",
      },
    ],
  },
  "dataItemID": "dewey",
  "dataTypeID": "system",
  "description": "Up to date information about our systems...",
  "gitRepository": "https://github.com/Financial-Times/dewey-gateway",
  "hostPlatform": "Heroku",
  "lastUpdate": "2017-04-21T09:35:49.211493Z",
  "lifecycleStage": "Production",
  "monitoring": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring\\" target=\\"_blank\\">https://sites.google.com/a/ft.com/technology/tools/dewey/Monitoring</a></p>",
  "moreInformation": "<p><a href=\\"https://sites.google.com/a/ft.com/technology/tools/dewey\\" target=\\"_blank\\" style=\\"background-color: rgb(255, 255, 255);\\">https://sites.google.com/a/ft.com/technology/tools/dewey</a><br></p>",
  "name": "Dewey",
  "personalData": "No",
  "primaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "slack",
        "contactType": "Team",
        "dataItemID": "DE-Tooling",
        "dataTypeID": "contact",
        "email": "DE.ToolingTeam@ft.com",
        "lastUpdate": "2017-11-21T00:00:00.000Z",
        "name": "Delivery Enablement Tooling",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "primaryURL": "dewey.ft.com",
  "productOwner": Object {
    "contact": Array [
      Object {
        "contactType": "Person",
        "dataItemID": "ashleydesouza",
        "dataTypeID": "contact",
        "email": "ashley.de.souza@ft.com",
        "lastUpdate": "2017-04-06T10:45:17.909266Z",
        "name": "Ashley de Souza",
        "phone": "07710337216",
        "slack": "ashleydesouza",
      },
    ],
  },
  "programme": Object {
    "contact": Array [
      Object {
        "contactPref": " Ashley de Souza",
        "contactType": "Programme",
        "dataItemID": "enterpriseservices-de",
        "dataTypeID": "contact",
        "email": "Ent.Svcs.DE@ft.com",
        "lastUpdate": "2017-02-22T16:06:35.450184Z",
        "name": "Enterprise Services - Delivery Enablement",
        "phone": "",
        "programme": "Enterprise Services - Delivery Enablement",
        "slack": "enterprise-services",
        "status": "Active",
        "supportRota": "",
      },
    ],
  },
  "secondaryContact": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "sensitiveData": "No",
  "serviceTier": "Silver",
  "serviceType": "BusinessService",
  "shortDescription": "Short description for Runbooks",
  "status": "None",
  "submitter": "CMDB  User",
  "supported": "Yes",
  "technicalLead": Object {
    "contact": Array [
      Object {
        "contactPref": "email",
        "contactType": "Person",
        "dataItemID": "geoffthorpe",
        "dataTypeID": "contact",
        "email": "geoff.thorpe@ft.com",
        "lastUpdate": "2017-04-21T09:06:16.186007Z",
        "name": "Geoff Thorpe",
        "phone": "4189",
        "programme": "Enterprise services",
        "slack": "tooling-team",
        "status": "Active",
        "supportRota": "https://docs.google.com/spreadsheets/d/1n4pVX1XtzJoTCUsU0-wzF9YKSn9yWnAIWqWIUdVSZho",
      },
    ],
  },
  "troubleshooting": "<table class=\\"table table-bordered\\" width=\\"100%\\"><tbody><tr><th scope=\\"row\\">Step 1</th><td><b>Has pingdom fired an alert showing CMDBv2 as down?</b><br><br>a. If in-hours contact the OI team using the contact details above.</td></tr><tr><th scope=\\"row\\">Step 2</th><td><p><b>Is dewey.ft.com showing an empty index page?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system page needs to be accessed urgently, perform the following actions:<br>&nbsp; i. &nbsp; Log into AWS via awslogin.in.ft.com<br>&nbsp; ii. &nbsp;Select S3 and navigate to dewey-library-prod<br>&nbsp; iii. Open up the html page (based on system name) required - search facilities are limited compared to dewey.ft.com</p></td></tr><tr><th scope=\\"row\\">Step 3</th><td><b>Are Dewey system pages not updating in a timely fashion following an update?</b><br><br>a. If in-hours contact the OI team using the contact details above.<br>b. If a Dewey system pages needs to be urgently accessed, perform the following actions:<br>&nbsp; i. &nbsp; Try accessing the details via https://systemregistry.in.ft.com/manage/&lt;system-code&gt;<br>&nbsp; ii. &nbsp;Try accessing the html page directly in the S3 bucket (using the steps shown above)<br>&nbsp; iii. If you have access, purge the Dewey system page's cache via the akamai fast purge console&nbsp;</td></tr></tbody></table>",
}
`;
